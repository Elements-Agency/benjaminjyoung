{{ define "styles" }}
    {{ partial "inside-style.html" . }}
{{ end }}

{{ define "scripts" }}
    {{ partial "inside-scripts.html" . }}

    <script data-cfasync="false" type="text/javascript" src="https://app.ecwid.com/script.js?101772706&data_platform=code&data_date=2024-04-07" charset="utf-8"></script>

    <script type="text/javascript">
        xProductBrowser("categoriesPerRow=3","views=grid(20,3) list(60) table(60)","categoryView=grid","searchView=list","id=my-store-101772706");

        Ecwid.Ecwid.OnAPILoaded.add(function() {
            Ecwid.OnCartChanged.add(function(cart) {
                if (cart && cart.items && cart.items.length > 0) {
                    fbq('track', 'AddToCart', {
                        content_name: cart.items.map(function(item) { return item.name; }).join(', '),
                        content_category: cart.items.map(function(item) { return item.categoryNames ? item.categoryNames.join(', ') : ''; }).join(', '),
                        content_ids: cart.items.map(function(item) { return item.sku ? item.sku : item.id; }),
                        content_type: 'product',
                        value: cart.items.reduce(function(sum, item) { return sum + (item.price * item.quantity); }, 0),
                        currency: cart.currency
                    });

                    fbq('trackCustom', 'Milestone');
                    if (!localStorage.uniqueMilestone) {
                        localStorage.uniqueMilestone = true;
                        fbq('trackCustom', 'UniqueMilestone');
                    }
                }
            });

            Ecwid.OnOrderPlaced.add(function(order) {
                if (order && order.total) {
                    fbq('track', 'Purchase', {
                        content_name: order.items.map(function(item) { return item.name; }).join(', '),
                        content_category: order.items.map(function(item) { return item.categoryNames ? item.categoryNames.join(', ') : ''; }).join(', '),
                        content_ids: order.items.map(function(item) { return item.sku ? item.sku : item.id; }),
                        content_type: 'product',
                        value: order.total,
                        currency: order.currency
                    });

                    fbq('trackCustom', 'Milestone');
                    if (!localStorage.uniqueMilestone) {
                        localStorage.uniqueMilestone = true;
                        fbq('trackCustom', 'UniqueMilestone');
                    }
                }
            });
        });

        xSearch("id=my-search-101772706");

        if (!localStorage.viewshop) {
            fbq('trackCustom', 'Milestone');
            if (!localStorage.uniqueMilestone) {
                localStorage.uniqueMilestone = true;
                fbq('trackCustom', 'UniqueMilestone');
            }
        }

        localStorage.viewshop = true;

        fbq('trackCustom', 'ViewShop');
        gtag('event', 'view_shop', {});

        if (localStorage.viewpainting && !localStorage.engagedviewshop) {
            localStorage.engagedviewshop = true;

            fbq('trackCustom', 'EngagedViewShop');
            gtag('event', 'engaged_view_painting', {});
        }

        trackEngaged();
    </script>
{{ end }}

{{ define "main" }}
    <div id="wrapper">
        <!-- Do NOT remove inline styles on bg below -->
        <div class="bg fixed" style='position:fixed; top:0; left:0; z-index:-1; width:100vw; height:100vh; background-color:#ddd; background-image:url("/images/background.webp"); background-size:cover; background-position:center; background-repeat:no-repeat; background-attachment:scroll;'></div>

    {{ block "header" . }}{{ partial "inside-header.html" .}}{{ end }}

    {{ block "nav" . }}{{ partial "inside-navigation.html" .}}{{ end }}

    <div id="main">
        <section style="text-align:center;">
            <header class="major" style="margin-bottom:0;">
                <h1 style="font-size:3em;">
                    {{ .Title }}
                </h1>
            </header>

            <div id="my-store-101772706" class="loader" style="min-height:400px;"></div>

            <br>

            {{ .Content }}

            <div id="my-search-101772706"></div>
            <br>
            
            <strong>Order Resources:</strong>
            <ul style="list-style:none; display:inline-block;">
                <li style="display:inline-block;">
                    <a href="/shipping">Shipping Policy</a>
                </li>
                <li style="display:inline-block;">
                    <a href="/returns">Returns Policy</a>
                </li>
            </ul>
        </section>
    </div>

    {{ block "footer" . }}
        {{ partialCached "inside-footer.html" . }}
    {{ end }}
  </div>

{{ end }}
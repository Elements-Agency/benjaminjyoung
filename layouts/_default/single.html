{{ define "styles" }}
    {{ partial "inside-style.html" . }}
{{ end }}

{{ define "scripts" }}
    {{ partial "inside-scripts.html" . }}
{{ end }}

{{ define "main" }}
  {{ $section := .Site.GetPage "section" .Section }}
    <div id="wrapper">
      <!-- Do NOT remove inlinse styles on bg below -->
      <div class="bg fixed" style='position:fixed; top:0; left:0; z-index:-1; width:100vw; height:100vh; background-color:#ddd; background-image:url("/images/background.webp"); background-size:cover; background-position:center; background-repeat:no-repeat; background-attachment:scroll;'></div>

    {{ block "header" . }}{{ partial "inside-header.html" .}}{{ end }}

    {{ block "nav" . }}{{ partial "inside-navigation.html" .}}{{ end }}

    <div id="main">
        <section class="post">
          {{ if .IsPage }}
            <nav class="breadcrumbs">
              <a href="{{ .Site.BaseURL }}#{{ trim .Title " -" | safeURL }}" class="link blue hover-black">Home</a>
              <span class="mh1">/</span>
              <a href="{{ .CurrentSection.RelPermalink }}#{{ trim .Title " -" | safeURL }}" class="link blue hover-black">{{ .CurrentSection.Title }}</a>
              <span class="mh1">/</span>
              <a href="{{ .RelPermalink }}" class="link blue hover-black">{{ .Title }}</a>
            </nav>
          {{ end }}
            <br>
            <header class="major">
                <h1>{{- .Title -}}</h1>
            </header>

            <section style="text-align:center;">
              {{ $full := .Resources.GetMatch "painting.jpg" }}
              {{ $full := $full.Fit "800x800 webp q85" }}

              {{ $top := .Resources.GetMatch "painting.jpg" }}
              {{ $top := $top.Fit "1600x1600 q100" }}

              <a class="painting preview" href="{{ $top.RelPermalink }}" data-gall="progress" data-position="center" style="display:block; border:#000 4px outset; box-shadow:0 0 30px rgba(0, 0, 0, 0.8); padding:0; background:#000; position:relative; z-index:2;" title="{{ .Title }} by {{ .Params.author | default .Site.Params.author }}">
                <div class="frame" style="border:#111 3vw solid; box-shadow:inset 0 0 30px rgba(0, 0, 0, 1);">
                  <div class="frame-inside" style="border:#000 4px inset; position:relative; z-index:-1;">
                    <div class="mat" style="background:#fff; border:#fff 6vw solid; line-height:0.5em;">
                      <br class="clear" style="clear:both;">
                      
                      <img class="canvas" src="{{ $full.RelPermalink }}" width="800" height="800" style="display:block; width:100%; height:auto;" alt="{{ .Params.alt }}" title='{{ .Title }} ({{ .Date| time.Format "2006" }}) by {{ .Site.Copyright }}'>
                      
                      <br class="clear" style="clear:both;">

                      <div class="info" style="font-size:0.5em; width:100%; line-height:1.5em;">
                        <div class="author" style="float:left; text-align:left; width:50%; padding:0 0.5em;">
                          <strong class="title" style="font-size:1.2em;">
                            {{ .Params.author | default .Site.Params.author }}
                          </strong>
                          <br>
                          American, 1990 - Current
                        </div>

                        <div class="description" style="float:right; text-align:right; width:50%; padding:0 0.5em;">
                          <span class="title" style="font-size:1.2em;">
                            <strong>
                              {{ .Title }}
                            </strong>
                            (
                            <em>
                              {{ .Date | time.Format (default "2006" .Site.Params.date_format) }}
                            </em>
                            )
                          </span>
                          <br>
                          {{ .Params.medium }} on {{ .Params.material }}
                        </div>
                      </div>

                      <br class="clear" style="clear:both;">
                    </div>
                  </div>
                </div>
              </a>

              <br>

            </section>

            <br>

            <article>
              <h2>About the {{ .Title }} Painting</h2>

              <p>
                {{ if not .Date.IsZero }}
                  <time class="date" {{ printf `datetime="%s"` (.Date.Format "2006-01-02T15:04:05Z07:00") | safeHTMLAttr }}>
                    <em>{{- .Date | time.Format (default "January 2, 2006" .Site.Params.date_format) -}}</em>
                  </time>
                {{ end }}
              </p>

              {{- .Content -}}

              {{ if $.Params.products }}
                <p class="text-align:right !important;">
                  <div style="float:right; margin-left:0.5em;" class="ec-cart-widget"></div>
                  <div style="float:right;">
                    <script data-cfasync="false" type="text/javascript" src="https://app.ecwid.com/script.js?101772706&data_platform=code&data_date=2024-04-18" charset="utf-8"></script>
                    <script type="text/javascript">Ecwid.init();</script>

                    <a href="/shop/#!/~/cart">View Cart</a>
                  </div>
                </p>

                <br class="clear">
                
                {{ if eq $.Params.status "sold" }}
                  <p><strong>The original has been sold and is no longer available.</strong> You can still order prints, below:</p>
                {{ end }}

                {{ range $.Params.products }}
                <div style="margin: 0 10px 10px;" class="ecsp ecsp-SingleProduct-v2 ecsp-SingleProduct-v2-bordered ecsp-Product ec-Product-{{ .id }}" itemscope itemtype="http://schema.org/Product" data-single-product-id="{{ .id }}">
                  <div itemprop="image"></div>
                  <div class="ecsp-title" itemprop="name" content="{{ .name }}"></div>
                  <div itemtype="http://schema.org/Offer" itemscope itemprop="offers">
                    <div class="ecsp-productBrowser-price ecsp-price" itemprop="price" content="59">
                      <div itemprop="priceCurrency" content="USD"></div>
                    </div>
                  </div>
                  <div customprop="addtobag"></div>
                </div>
                <script data-cfasync="false" type="text/javascript" src="https://app.ecwid.com/script.js?101772706&data_platform=singleproduct_v2" charset="utf-8"></script>
                <script type="text/javascript">xProduct()</script>
                {{ end }}

              {{ else }}
                <ul id="purchase" style="list-style:none; text-align:center; margin-bottom:0;">

                  {{ if $.Params.original }}
                    {{ with $original := .Resources.GetMatch "original.jpg" }}
                      {{ $original := $original.Fill "250x250 Center q85" }}
                      <li style="display:inline-block; padding:1em; text-align:center;">
                        <h3>Original Painting</h3>

                        <p style="text-align:center; margin-bottom:0">
                          <a href="{{ $.Params.original }}" data-position="center">
                            <img src="{{ $original.RelPermalink }}" width="250px" height="250px" loading="lazy" alt="Buy the original {{ $.Title }}" title="Original {{ $.Title }}">
                          </a>

                          <br>

                          A one-of-a-kind handmade masterpiece.

                          <br>

                          {{ if $.Params.originalprice }}
                            <strong>Price:</strong>

                            {{ if eq $.Params.status "sold" }}
                              <del>
                            {{ end }}

                            {{ $.Params.originalprice }}

                            {{ if eq $.Params.status "sold" }}
                              </del>
                              &nbsp;
                              <strong>SOLD</strong>
                            {{ else }}
                              <em>(Free Shipping)</em>
                            {{ end }}
                          {{ end }}

                          <br>

                          <a href="{{ $.Params.original }}" class="button">
                            {{ if eq $.Params.status "sold" }}
                              View The Original
                            {{ else }}
                              Buy The Original
                            {{ end }}
                          </a>
                        </p>

                        <br>
                      </li>
                    {{ end }}
                  {{ else }}
                    <li style="display:inline-block; padding:1em; text-align:center; width:250px;">
                      <h3>Original</h3>

                      <p style="text-align:center;">
                        Interested in purchasing the original?
                        <a href="/contact">Contact me</a> to discuss purchasing.
                      </p>

                      <br>
    
                      <a href="/contact" class="button">
                        Contact Artist
                      </a>

                      <br><br>
                    </li>
                  {{ end }}

                  {{ if $.Params.prints }}
                    {{ with $print := .Resources.GetMatch "print.jpg" }}
                      {{ $print := $print.Fit "250x250 q85" }}
                      <li style="display:inline-block; padding:1em; text-align:center;">
                        <h3>Printed Copy</h3>

                        <p style="text-align:center; margin-bottom:0">
                          <a href="{{ $.Params.prints }}" data-position="center">
                            <img src="{{ $print.RelPermalink }}" width="250px" height="250px" loading="lazy" alt="Buy a print of {{ $.Title }}" title="Print of {{ $.Title }}">
                          </a>

                          <br>

                          Framing and bulk pricing also available.

                          <br>

                          {{ if $.Params.printsprice }}
                            <strong>Price:</strong>
                            {{ $.Params.printsprice }}
                            <em>(Free Shipping)</em>
                          {{ end }}

                          <br>

                          <a href="{{ $.Params.prints }}" class="button">
                            Purchase Print
                          </a>
                        </p>

                        <br>
                      </li>
                    {{ end }}
                  {{ end }}

                </ul>
              {{ end }}

              <hr>

              <div>
                <h3>Share</h3>
                <script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=65d9851dc0be3b0019eaef5f&product=inline-share-buttons&source=platform" async="async"></script>
                <div class="sharethis-inline-share-buttons"></div>
              </div>

              <br>

              <h3>Tags</h3>
              {{- partial "tags.html" . -}}
            </article>
        </section>

        <aside class="w-30-l mt6-l">
          {{- partial "menu-contextual.html" . -}}
        </aside>
    </div>

    {{ block "footer" . }}{{ partialCached "inside-footer.html" . }}{{ end }}
  </div>
  
{{ end }}
